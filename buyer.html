<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>PetalRush Buyer</title>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<style>

/* =========================
   GLOBAL
========================= */

body{
margin:0;
background:#0f1115;
color:white;
font-family:system-ui;
}

.container{
max-width:500px;
margin:auto;
min-height:100vh;
padding-bottom:80px;
}

/* =========================
   HEADER
========================= */

.header{
background:#111;
padding:15px;
text-align:center;
}

.logo{
height:50px;
}

/* =========================
   FILTER BAR
========================= */

.filter-bar{
padding:10px;
background:#111;
display:flex;
gap:10px;
position:sticky;
top:0;
z-index:10;
}

.search,input,select{
flex:1;
padding:10px;
border-radius:8px;
border:none;
background:#222;
color:white;
}

/* =========================
   PRODUCTS GRID
========================= */

.products{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(150px,1fr));
gap:12px;
padding:12px;
}

.card{
background:#171a21;
padding:10px;
border-radius:12px;
cursor:pointer;
transition:.2s;
}

.card:hover{
transform:scale(1.03);
}

.card img{
width:100%;
height:130px;
object-fit:cover;
border-radius:8px;
}

.price{
color:#ff4081;
font-weight:bold;
}

/* =========================
   SECTIONS
========================= */

.section{
display:none;
padding:12px;
}

/* =========================
   BUTTONS
========================= */

.btn{
background:#ff4081;
border:none;
padding:12px;
width:100%;
border-radius:8px;
color:white;
margin-top:10px;
cursor:pointer;
font-weight:bold;
}

.btn:hover{
opacity:.9;
}

/* =========================
   CART ITEMS
========================= */

.cart-item{
background:#171a21;
padding:12px;
margin-top:10px;
border-radius:8px;
display:flex;
justify-content:space-between;
align-items:center;
}

/* =========================
   PROFILE
========================= */

.avatar{
width:100px;
height:100px;
border-radius:50%;
object-fit:cover;
margin-bottom:10px;
}

/* =========================
   TOTAL BOX
========================= */

.total-box{
margin-top:15px;
background:#171a21;
padding:15px;
border-radius:10px;
}

/* =========================
   BOTTOM NAV
========================= */

.bottom{
position:fixed;
bottom:0;
width:100%;
max-width:500px;
display:flex;
background:#111;
border-top:1px solid #222;
}

.bottom div{
flex:1;
text-align:center;
padding:15px;
cursor:pointer;
}

.bottom div:hover{
background:#222;
}

</style>

</head>

<body>

<div class="container">

<!-- HEADER -->
<div class="header">
<img src="Headerlogo.png" class="logo">
</div>

<!-- FILTER -->
<div id="filterSection" class="filter-bar">

<input id="search"
placeholder="Search flowers"
oninput="searchProducts()">

<select onchange="applyFilter(this.value)">
<option value="new">Newest</option>
<option value="low">Price Low → High</option>
<option value="high">Price High → Low</option>
</select>

</div>

<!-- HOME -->
<div id="home" class="products"></div>

<!-- DETAIL -->
<div id="detail" class="section"></div>

<!-- PROFILE -->
<div id="profile" class="section">

<h2>My Profile</h2>

<center>
<img id="avatar"
class="avatar"
src="default-avatar.png">

<input type="file"
onchange="uploadAvatar(event)">
</center>

<input id="nameInput"
placeholder="Enter your name">

<input id="phoneInput"
placeholder="Enter phone">

<button class="btn"
onclick="saveProfile()">
Save Profile
</button>

<div id="profileInfo"></div>

<h3>Addresses</h3>

<input id="addressInput"
placeholder="Enter address">

<button class="btn"
onclick="saveAddress()">
Save Address
</button>

<div id="addressList"></div>

<h3>My Orders</h3>

<div id="ordersList"></div>

<button class="btn"
style="background:#333"
onclick="logout()">
Logout
</button>

</div>

<!-- CART -->
<div id="cart" class="section">

<h2>Cart</h2>

<div id="cartItems"></div>

<div class="total-box">

<div>Subtotal: ₹<span id="subtotal">0</span></div>

<div>Delivery: ₹<span id="delivery">0</span></div>

<div>GST (5%): ₹<span id="gst">0</span></div>

<div>Discount: ₹<span id="discount">0</span></div>

<hr>

<h3>Total: ₹<span id="grandTotal">0</span></h3>

</div>

<select id="addressSelect"></select>

<input id="couponInput"
placeholder="Coupon code">

<button class="btn"
onclick="applyCoupon()">
Apply Coupon
</button>

<button class="btn"
onclick="placeOrder()">
Place Order
</button>

</div>

<!-- BOTTOM NAV -->
<div class="bottom">

<div onclick="showHome()">Home</div>

<div onclick="showProfile()">Profile</div>

<div onclick="showCart()">Cart</div>

</div>

</div>

<script src="js/buyer.js"></script>
</body>
</html>


